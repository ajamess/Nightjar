<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nightjar ‚Äî Secure P2P Collaboration</title>
  <meta name="description" content="Private, peer-to-peer collaborative workspaces. End-to-end encrypted documents, spreadsheets, kanban boards, chat, inventory, and file storage. No accounts, no cloud.">
  <meta name="theme-color" content="#0f1117">
  <link rel="icon" href="/nightjar-64.png" type="image/png">
  <meta property="og:title" content="Nightjar ‚Äî Secure P2P Collaboration">
  <meta property="og:description" content="Private, peer-to-peer collaborative workspaces. No accounts, no cloud ‚Äî your data stays yours.">
  <meta property="og:image" content="https://night-jar.co/nightjar-og.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://night-jar.co">
  <meta property="og:site_name" content="Nightjar">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Nightjar ‚Äî Secure P2P Collaboration">
  <meta name="twitter:description" content="Private, peer-to-peer collaborative workspaces. No accounts, no cloud ‚Äî your data stays yours.">
  <meta name="twitter:image" content="https://night-jar.co/nightjar-og.png">
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Nightjar",
    "applicationCategory": "CollaborationApplication",
    "operatingSystem": "Windows, macOS, Linux",
    "url": "https://night-jar.co",
    "downloadUrl": "https://github.com/NiyaNagi/Nightjar/releases/latest",
    "softwareVersion": "1.7.10",
    "description": "Private, peer-to-peer collaborative workspaces. End-to-end encrypted documents, spreadsheets, kanban boards, chat, inventory, and file storage. No accounts, no cloud.",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "USD" },
    "author": { "@type": "Organization", "name": "NiyaNagi", "url": "https://github.com/NiyaNagi" },
    "screenshot": "https://night-jar.co/nightjar-og.png",
    "featureList": ["End-to-end encryption", "Peer-to-peer sync", "Rich text editor", "Spreadsheets", "Kanban boards", "Encrypted chat", "File storage", "Inventory management", "Tor support", "No accounts required"],
    "license": "https://github.com/NiyaNagi/Nightjar/blob/main/LICENSE"
  }
  </script>
  <style>
    :root {
      --bg: #0f1117;
      --bg-alt: #13151e;
      --bg-card: #1a1d27;
      --bg-card-hover: #22263a;
      --accent: #6c63ff;
      --accent-light: #8b83ff;
      --accent-glow: rgba(108, 99, 255, 0.35);
      --accent-subtle: rgba(108, 99, 255, 0.08);
      --text: #e4e4e7;
      --text-dim: #9ca3af;
      --text-bright: #f9fafb;
      --border: #2a2e3d;
      --border-light: #363b4f;
      --green: #34d399;
      --green-dim: rgba(52, 211, 153, 0.12);
      --amber: #fbbf24;
      --red: #f87171;
      --red-dim: rgba(248, 113, 113, 0.12);
      --blue: #60a5fa;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      min-height: 100vh;
      overflow-x: hidden;
    }
    a { color: var(--accent-light); text-decoration: none; }
    a:hover { color: var(--text-bright); }
    .container { max-width: 1120px; margin: 0 auto; padding: 0 24px; }

    /* ‚îÄ‚îÄ Sticky Nav ‚îÄ‚îÄ */
    .navbar {
      position: sticky; top: 0; z-index: 100;
      background: rgba(15, 17, 23, 0.85);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
      padding: 12px 0;
    }
    .navbar .container {
      display: flex; align-items: center; justify-content: space-between;
    }
    .nav-brand {
      display: flex; align-items: center; gap: 10px;
      font-weight: 700; font-size: 1.15rem; color: var(--text-bright);
      text-decoration: none;
    }
    .nav-brand img { width: 32px; height: 32px; border-radius: 8px; }
    .nav-links { display: flex; gap: 24px; align-items: center; }
    .nav-links a {
      font-size: 0.9rem; color: var(--text-dim); transition: color 0.15s;
    }
    .nav-links a:hover { color: var(--text-bright); }
    .nav-btn {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 18px; border-radius: 8px;
      font-size: 0.88rem; font-weight: 600;
      background: var(--bg-card); color: var(--text);
      border: 1px solid var(--border);
      transition: all 0.2s;
    }
    .nav-btn:hover { background: var(--bg-card-hover); color: var(--text-bright); transform: translateY(-1px); }

    /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
    .hero { text-align: center; padding: 80px 0 64px; }
    .hero-logo { width: 200px; height: 200px; border-radius: 40px; margin-bottom: 24px; }
    .hero h1 { font-size: 3.2rem; font-weight: 800; letter-spacing: -0.03em; margin-bottom: 16px; }

    /* ‚îÄ‚îÄ Hero Mascot Bubble ‚îÄ‚îÄ */
    .hero-mascot {
      display: flex; flex-direction: column; align-items: center;
      cursor: pointer; user-select: none; margin-bottom: 24px;
    }
    .hero-mascot:focus { outline: none; }
    .hero-mascot .hero-logo { margin-bottom: 0; transition: transform 0.15s ease; }
    .hero-mascot:hover .hero-logo { transform: scale(1.04); }
    .mascot-bubble {
      position: relative; max-width: 300px; min-width: 160px;
      padding: 12px 20px; margin-bottom: 14px;
      background: var(--bg-card); border: 2px solid var(--text);
      border-radius: 16px; text-align: center; cursor: pointer;
      order: -1; /* bubble above bird */
      animation: bubbleAppear 0.25s ease-out;
      transition: background 0.15s;
    }
    .mascot-bubble:hover { background: var(--bg-card-hover); }
    /* Arrow pointing down from bubble to bird */
    .mascot-bubble::after {
      content: ''; position: absolute; top: 100%; left: 50%;
      transform: translateX(-50%); width: 0; height: 0;
      border-left: 12px solid transparent; border-right: 12px solid transparent;
      border-top: 14px solid var(--text);
    }
    .mascot-bubble::before {
      content: ''; position: absolute; top: 100%; left: 50%;
      transform: translateX(-50%); width: 0; height: 0;
      border-left: 10px solid transparent; border-right: 10px solid transparent;
      border-top: 12px solid var(--bg-card);
      z-index: 1; margin-top: -2px;
    }
    .mascot-saying {
      font-family: Georgia, 'Times New Roman', serif;
      font-size: 1rem; font-style: italic;
      color: var(--text); line-height: 1.4; display: block;
    }
    @keyframes bubbleAppear {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    .hero h1 span {
      background: linear-gradient(135deg, var(--accent), #a78bfa, #c084fc);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    .hero-sub {
      font-size: 1.25rem; color: var(--text-dim); max-width: 620px;
      margin: 0 auto 40px; line-height: 1.6;
    }
    .downloads { display: flex; justify-content: center; gap: 14px; flex-wrap: wrap; margin-bottom: 14px; }
    .btn {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 14px 28px; border-radius: 12px;
      font-size: 1rem; font-weight: 600; text-decoration: none;
      transition: all 0.2s ease;
    }
    .btn-primary {
      background: var(--accent); color: #fff;
      box-shadow: 0 0 24px var(--accent-glow);
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 0 32px var(--accent-glow); color: #fff; }
    .btn-secondary {
      background: var(--bg-card); color: var(--text);
      border: 1px solid var(--border);
    }
    .btn-secondary:hover { background: var(--bg-card-hover); transform: translateY(-2px); color: var(--text-bright); }
    .btn svg { width: 20px; height: 20px; fill: currentColor; }
    .btn-disabled { opacity: 0.4; cursor: not-allowed; pointer-events: none; }

    /* Pulse glow for auto-detected platform */
    @keyframes pulse-glow {
      0%, 100% { filter: brightness(1); box-shadow: 0 0 24px var(--accent-glow); }
      50% { filter: brightness(1.17); box-shadow: 0 0 40px rgba(108, 99, 255, 0.55); }
    }
    .btn-detected { animation: pulse-glow 2.5s ease-in-out infinite; }
    .btn-detected:hover { animation: none; }
    .version-row { text-align: center; color: var(--text-dim); font-size: 0.85rem; margin-bottom: 8px; }
    .version-row a { color: var(--accent-light); margin-left: 8px; }
    .hero-links { display: flex; justify-content: center; gap: 12px; margin: 16px 0 0; flex-wrap: wrap; }
    .hero-links .btn { padding: 10px 20px; font-size: 0.9rem; }
    .hero-links .btn svg { width: 17px; height: 17px; }

    /* ‚îÄ‚îÄ Slideshow ‚îÄ‚îÄ */
    .slideshow-section { padding: 0 0 80px; }
    .section-header { text-align: center; margin-bottom: 48px; }
    .section-header h2 { font-size: 2rem; font-weight: 700; margin-bottom: 12px; }
    .section-header p { color: var(--text-dim); font-size: 1.05rem; max-width: 600px; margin: 0 auto; }
    .slideshow {
      position: relative; max-width: 960px; margin: 0 auto;
      border-radius: 16px; overflow: hidden;
      border: 1px solid var(--border); background: var(--bg-card);
      aspect-ratio: 16/9;
    }
    .slideshow-frame {
      width: 100%; height: 100%; object-fit: contain;
      display: block; background: var(--bg);
    }
    .slideshow-caption {
      position: absolute; bottom: 0; left: 0; right: 0;
      padding: 16px 24px;
      background: linear-gradient(transparent, rgba(0,0,0,0.85));
      display: flex; align-items: center; justify-content: space-between;
    }
    .slideshow-caption-text h3 { font-size: 1rem; color: var(--text-bright); margin-bottom: 2px; }
    .slideshow-caption-text p { font-size: 0.82rem; color: var(--text-dim); }
    .slideshow-controls { display: flex; gap: 8px; align-items: center; }
    .slideshow-controls button {
      background: rgba(255,255,255,0.12); border: none; color: #fff;
      width: 36px; height: 36px; border-radius: 50%; cursor: pointer;
      font-size: 1rem; display: flex; align-items: center; justify-content: center;
      transition: background 0.15s;
    }
    .slideshow-controls button:hover { background: rgba(255,255,255,0.25); }
    .slideshow-counter { font-size: 0.82rem; color: rgba(255,255,255,0.6); min-width: 48px; text-align: center; }
    .slideshow-dots { display: flex; justify-content: center; gap: 8px; margin-top: 16px; }
    .slideshow-dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--border); cursor: pointer;
      transition: all 0.2s; border: none;
    }
    .slideshow-dot.active { background: var(--accent); transform: scale(1.3); }
    .slideshow-placeholder {
      width: 100%; height: 100%;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      color: var(--text-dim); gap: 12px;
    }
    .slideshow-placeholder .icon { font-size: 3rem; }

    /* ‚îÄ‚îÄ Feature grid ‚îÄ‚îÄ */
    .features-section { padding: 80px 0; }
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    .feature-card {
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: 16px; padding: 28px;
      transition: border-color 0.2s, transform 0.2s;
    }
    .feature-card:hover { border-color: var(--accent); transform: translateY(-2px); }
    .feature-icon { font-size: 2rem; margin-bottom: 14px; }
    .feature-card h3 { font-size: 1.1rem; margin-bottom: 8px; color: var(--text-bright); }
    .feature-card p { color: var(--text-dim); font-size: 0.92rem; line-height: 1.6; }

    /* ‚îÄ‚îÄ How it works ‚îÄ‚îÄ */
    .how-section { padding: 80px 0; background: var(--bg-alt); }
    .steps { display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; }
    .step { max-width: 220px; text-align: center; }
    .step-num {
      display: inline-flex; align-items: center; justify-content: center;
      width: 48px; height: 48px; border-radius: 50%;
      background: var(--accent); color: #fff;
      font-weight: 700; font-size: 1.2rem; margin-bottom: 16px;
    }
    .step h3 { font-size: 1.05rem; margin-bottom: 8px; color: var(--text-bright); }
    .step p { color: var(--text-dim); font-size: 0.9rem; }

    /* ‚îÄ‚îÄ Comparison table ‚îÄ‚îÄ */
    .comparison-section { padding: 80px 0; }
    .comparison-table-wrap { overflow-x: auto; border-radius: 16px; border: 1px solid var(--border); }
    .comparison-table { width: 100%; border-collapse: collapse; font-size: 0.92rem; }
    .comparison-table th, .comparison-table td {
      padding: 14px 18px; text-align: center; border-bottom: 1px solid var(--border);
    }
    .comparison-table th {
      background: var(--bg-card); color: var(--text-bright); font-weight: 600;
      position: sticky; top: 0;
    }
    .comparison-table th:first-child, .comparison-table td:first-child {
      text-align: left; font-weight: 500; min-width: 200px;
    }
    .comparison-table td { background: var(--bg); }
    .comparison-table tr:hover td { background: var(--bg-card); }
    .comparison-table .highlight-col {
      background: var(--accent-subtle) !important;
      border-left: 2px solid var(--accent);
      border-right: 2px solid var(--accent);
    }
    .comparison-table th.highlight-col { background: var(--accent) !important; color: #fff; }
    .check { color: var(--green); font-weight: 700; }
    .cross { color: var(--red); opacity: 0.5; }
    .partial { color: var(--amber); }

    /* ‚îÄ‚îÄ Security ‚îÄ‚îÄ */
    .security-section { padding: 80px 0; background: var(--bg-alt); }
    .security-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 20px; }
    .security-card {
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: 16px; padding: 24px;
    }
    .security-card .icon { font-size: 1.5rem; margin-bottom: 12px; color: var(--green); }
    .security-card h3 { font-size: 1rem; margin-bottom: 6px; color: var(--text-bright); }
    .security-card p { color: var(--text-dim); font-size: 0.88rem; }

    /* ‚îÄ‚îÄ Tech stack pills ‚îÄ‚îÄ */
    .tech-section { padding: 80px 0; }
    .tech-pills { display: flex; flex-wrap: wrap; justify-content: center; gap: 12px; }
    .tech-pill {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 18px; border-radius: 999px;
      background: var(--bg-card); border: 1px solid var(--border);
      font-size: 0.88rem; color: var(--text-dim); transition: border-color 0.2s;
    }
    .tech-pill:hover { border-color: var(--accent); color: var(--text-bright); }
    .tech-pill .dot { width: 8px; height: 8px; border-radius: 50%; }

    /* ‚îÄ‚îÄ Footer ‚îÄ‚îÄ */
    footer {
      text-align: center; padding: 48px 0; border-top: 1px solid var(--border);
      color: var(--text-dim); font-size: 0.85rem;
    }
    footer a { color: var(--text-dim); }
    footer a:hover { color: var(--text-bright); }
    .footer-links { display: flex; justify-content: center; gap: 24px; margin-bottom: 16px; flex-wrap: wrap; }

    /* ‚îÄ‚îÄ Scroll offset for anchor links ‚îÄ‚îÄ */
    section[id], h2[id], h3[id] { scroll-margin-top: 80px; }

    /* ‚îÄ‚îÄ Hamburger ‚îÄ‚îÄ */
    .hamburger {
      display: none; background: none; border: none; cursor: pointer;
      width: 40px; height: 40px; padding: 6px;
      flex-direction: column; justify-content: center; align-items: center; gap: 5px;
    }
    .hamburger span {
      display: block; width: 22px; height: 2px; background: var(--text);
      border-radius: 2px; transition: all 0.3s ease;
    }
    .hamburger.active span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
    .hamburger.active span:nth-child(2) { opacity: 0; }
    .hamburger.active span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }
    .mobile-menu {
      display: none; position: fixed; top: 57px; left: 0; right: 0; bottom: 0;
      background: rgba(15, 17, 23, 0.97); backdrop-filter: blur(16px);
      z-index: 99; padding: 24px;
      flex-direction: column; gap: 8px; overflow-y: auto;
    }
    .mobile-menu.open { display: flex; }
    .mobile-menu a {
      display: block; padding: 14px 20px; border-radius: 12px;
      font-size: 1.05rem; color: var(--text); transition: background 0.15s;
    }
    .mobile-menu a:hover { background: var(--bg-card); color: var(--text-bright); }

    /* ‚îÄ‚îÄ Stars badge ‚îÄ‚îÄ */
    .stars-badge {
      display: inline-flex; align-items: center; gap: 6px;
      padding: 6px 14px; border-radius: 999px;
      background: var(--bg-card); border: 1px solid var(--border);
      font-size: 0.85rem; color: var(--text-dim);
      margin-bottom: 20px; transition: border-color 0.2s;
    }
    .stars-badge:hover { border-color: var(--accent); color: var(--text-bright); }
    .stars-badge svg { width: 16px; height: 16px; fill: var(--amber); }
    .stars-badge .count { font-weight: 600; color: var(--text-bright); }

    /* ‚îÄ‚îÄ Animated hero background ‚îÄ‚îÄ */
    .hero { position: relative; overflow: hidden; }
    .hero::before {
      content: ''; position: absolute; top: -50%; left: -50%; right: -50%; bottom: -50%;
      background: radial-gradient(ellipse at 20% 50%, rgba(108, 99, 255, 0.08) 0%, transparent 50%),
                  radial-gradient(ellipse at 80% 20%, rgba(167, 139, 250, 0.06) 0%, transparent 50%),
                  radial-gradient(ellipse at 50% 80%, rgba(192, 132, 252, 0.04) 0%, transparent 50%);
      animation: heroGlow 12s ease-in-out infinite alternate;
      z-index: 0; pointer-events: none;
    }
    .hero .container { position: relative; z-index: 1; }
    @keyframes heroGlow {
      0% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(2%, -3%) scale(1.05); }
      66% { transform: translate(-2%, 2%) scale(0.98); }
      100% { transform: translate(1%, -1%) scale(1.02); }
    }

    /* ‚îÄ‚îÄ Use-case cards ‚îÄ‚îÄ */
    .usecases-section { padding: 80px 0; }
    .usecases-grid {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;
    }
    .usecase-card {
      background: var(--bg-card); border: 1px solid var(--border);
      border-radius: 16px; padding: 28px; position: relative;
      transition: border-color 0.2s, transform 0.2s;
    }
    .usecase-card:hover { border-color: var(--accent); transform: translateY(-2px); }
    .usecase-card .persona {
      display: flex; align-items: center; gap: 12px; margin-bottom: 14px;
    }
    .usecase-card .avatar {
      width: 44px; height: 44px; border-radius: 12px;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.4rem; background: var(--accent-subtle); border: 1px solid var(--border);
    }
    .usecase-card .persona-info .name { font-weight: 600; font-size: 0.95rem; color: var(--text-bright); }
    .usecase-card .persona-info .role { font-size: 0.82rem; color: var(--text-dim); }
    .usecase-card .quote {
      font-size: 0.92rem; color: var(--text); line-height: 1.65;
      font-style: italic; padding-left: 16px; border-left: 3px solid var(--accent);
    }

    /* ‚îÄ‚îÄ FAQ accordion ‚îÄ‚îÄ */
    .faq-section { padding: 80px 0; }
    .faq-list { max-width: 760px; margin: 0 auto; }
    .faq-item {
      border: 1px solid var(--border); border-radius: 12px;
      margin-bottom: 12px; overflow: hidden; transition: border-color 0.2s;
    }
    .faq-item:hover { border-color: var(--border-light); }
    .faq-question {
      display: flex; align-items: center; justify-content: space-between;
      padding: 18px 22px; cursor: pointer;
      background: var(--bg-card); border: none; color: var(--text-bright);
      font-size: 0.95rem; font-weight: 500; text-align: left; width: 100%;
      font-family: inherit; line-height: 1.5;
    }
    .faq-question:hover { background: var(--bg-card-hover); }
    .faq-chevron {
      width: 20px; height: 20px; flex-shrink: 0; margin-left: 16px;
      transition: transform 0.3s ease; color: var(--text-dim);
    }
    .faq-item.open .faq-chevron { transform: rotate(180deg); }
    .faq-answer {
      max-height: 0; overflow: hidden; transition: max-height 0.3s ease;
    }
    .faq-answer-inner {
      padding: 0 22px 20px; font-size: 0.92rem; color: var(--text-dim); line-height: 1.7;
    }
    .faq-item.open .faq-answer { max-height: 500px; }

    /* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
    @media (max-width: 768px) {
      .hero { padding: 48px 0 40px; }
      .hero h1 { font-size: 2rem; }
      .hero-sub { font-size: 1rem; }
      .downloads { flex-direction: column; align-items: center; }
      .nav-links { display: none; }
      .hamburger { display: flex; }
      .features-grid { grid-template-columns: 1fr; }
      .steps { flex-direction: column; align-items: center; }
      .comparison-table { font-size: 0.8rem; }
      .comparison-table th, .comparison-table td { padding: 8px 10px; }
      .comparison-table th:first-child, .comparison-table td:first-child { min-width: 120px; }
      .security-grid { grid-template-columns: 1fr; }
      .usecases-grid { grid-template-columns: 1fr; }
      .faq-question { font-size: 0.9rem; padding: 14px 18px; }
      .hero-links { flex-direction: column; align-items: center; }
      .slideshow { aspect-ratio: 4/3; }
      section { padding: 48px 0; }
      .how-section, .security-section { padding: 48px 0; }
      .section-header h2 { font-size: 1.6rem; }
      .section-header { margin-bottom: 32px; }
      .mascot-bubble { max-width: 240px; padding: 10px 16px; }
      .mascot-saying { font-size: 0.9rem; }
    }
    @media (max-width: 480px) {
      .hero h1 { font-size: 1.65rem; }
      .container { padding: 0 16px; }
      .btn { padding: 12px 22px; font-size: 0.9rem; }
      .comparison-table th, .comparison-table td { padding: 6px 8px; font-size: 0.75rem; }
      .mascot-bubble { max-width: 200px; min-width: 140px; }
    }
    @media (prefers-reduced-motion: reduce) {
      .mascot-bubble { animation: none !important; transition: none !important; }
      .hero-mascot .hero-logo { transition: none !important; }
      .btn-detected { animation: none !important; }
    }
  </style>
</head>
<body>

  <!-- Sticky Nav -->
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="container">
      <a href="/" class="nav-brand">
        <img src="/nightjar-logo.png" alt="Nightjar">
        Nightjar
      </a>
      <div class="nav-links">
        <a href="#features">Features</a>
        <a href="#demo">Demo</a>
        <a href="#comparison">Compare</a>
        <a href="#security">Security</a>
        <a href="/docs/">Docs</a>
        <a href="/docs/self-hosting.html">Self-Hosting</a>
        <a href="https://github.com/NiyaNagi/Nightjar" target="_blank" rel="noopener" class="nav-btn">
          <svg viewBox="0 0 24 24" width="16" height="16"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill="currentColor"/></svg>
          GitHub
        </a>
      </div>
      <button class="hamburger" id="hamburger-btn" aria-label="Toggle navigation menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>
  </nav>
  <div class="mobile-menu" id="mobile-menu" role="navigation" aria-label="Mobile navigation">
    <a href="#features" onclick="closeMobileMenu()">Features</a>
    <a href="#demo" onclick="closeMobileMenu()">Demo</a>
    <a href="#comparison" onclick="closeMobileMenu()">Compare</a>
    <a href="#security" onclick="closeMobileMenu()">Security</a>
    <a href="/docs/">Docs</a>
    <a href="/docs/self-hosting.html">Self-Hosting</a>
    <a href="https://github.com/NiyaNagi/Nightjar" target="_blank" rel="noopener">GitHub</a>
  </div>

  <!-- Hero -->
  <section class="hero" id="hero">
    <div class="container">
      <div class="hero-mascot" id="hero-mascot" role="button" tabindex="0" aria-label="Nightjar mascot. Click for a new saying.">
        <img class="hero-logo" src="/nightjar-logo.png" alt="Nightjar logo">
        <div class="mascot-bubble" id="mascot-bubble">
          <span class="mascot-saying" id="mascot-saying">Privacy matters!</span>
        </div>
      </div>
      <a href="https://github.com/NiyaNagi/Nightjar" target="_blank" rel="noopener" class="stars-badge" id="stars-badge" style="display:none">
        <svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>
        <span class="count" id="stars-count">0</span> <span>stars on GitHub</span>
      </a>
      <h1><span>Nightjar</span></h1>
      <p class="hero-sub">
        Private, peer-to-peer collaborative workspaces.<br>
        No accounts, no cloud ‚Äî your data stays yours.
      </p>

      <div class="downloads">
        <a href="https://github.com/NiyaNagi/Nightjar/releases/latest" target="_blank" rel="noopener" class="btn btn-primary" data-platform="windows">
          <svg viewBox="0 0 24 24"><path d="M0 3.449L9.75 2.1v9.451H0m10.949-9.602L24 0v11.4H10.949M0 12.6h9.75v9.451L0 20.699M10.949 12.6H24V24l-12.9-1.801"/></svg>
          Windows
        </a>
        <a href="https://github.com/NiyaNagi/Nightjar/releases/latest" target="_blank" rel="noopener" class="btn btn-secondary" data-platform="macos">
          <svg viewBox="0 0 24 24"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.8-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
          macOS
        </a>
        <a href="https://github.com/NiyaNagi/Nightjar/releases/latest" target="_blank" rel="noopener" class="btn btn-secondary" data-platform="linux">
          <svg viewBox="0 0 24 24"><path d="M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.368 1.884 1.43.585.047 1.042-.245 1.247-.713.348-.794-.04-1.596-.36-2.094-.239-.37-.51-.598-.658-.822-.024-.049-.224-.249-.29-.363-.13-.222-.201-.368-.251-.502l-.015-.045a12.56 12.56 0 00-.152-.462c-.112-.32-.165-.602-.143-.879a3.364 3.364 0 01.478-1.457c.273-.413.644-.69 1.066-1.003.06-.045.118-.088.175-.133a56.534 56.534 0 00.61-.492c.237-.194.337-.353.337-.53 0-.148-.074-.308-.17-.427a13.21 13.21 0 00-.274-.327c-.269-.317-.54-.56-.74-.748a.743.743 0 00-.05-.043c.35-.804.66-1.733.606-2.756-.059-1.063-.451-1.994-1.056-2.667-.388-.43-.844-.727-1.327-.885.226-.474.346-1.063.278-1.761-.08-.985-.563-1.698-1.131-2.205a3.66 3.66 0 00-1.038-.7C14.105.025 13.298 0 12.504 0z"/></svg>
          Linux
        </a>
        <a href="https://ghcr.io/niyanagi/nightjar" target="_blank" rel="noopener" class="btn btn-secondary" data-platform="docker" title="Docker image for self-hosting">
          <svg viewBox="0 0 24 24"><path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.186.186 0 00-.187.186v1.887c0 .102.083.185.187.185zm-2.954-5.43h2.118a.186.186 0 00.187-.185V3.576a.186.186 0 00-.187-.186h-2.118a.186.186 0 00-.187.186v1.887c0 .102.084.185.187.185zm0 2.716h2.118a.187.187 0 00.187-.186V6.29a.186.186 0 00-.187-.186h-2.118a.186.186 0 00-.187.186v1.887c0 .102.084.186.187.186zm-2.93 0h2.12a.186.186 0 00.186-.186V6.29a.186.186 0 00-.186-.186H8.1a.186.186 0 00-.185.186v1.887c0 .102.083.186.185.186zm-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.186.186 0 00-.185-.186H5.136a.186.186 0 00-.186.186v1.887c0 .102.084.186.186.186zm5.893 2.715h2.118a.186.186 0 00.187-.185V9.006a.186.186 0 00-.187-.186h-2.118a.187.187 0 00-.187.186v1.887c0 .102.084.185.187.185zm-2.93 0h2.12a.185.185 0 00.185-.185V9.006a.185.185 0 00-.185-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185zm-2.964 0h2.119a.186.186 0 00.185-.185V9.006a.186.186 0 00-.185-.186H5.136a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185zm-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.186v1.887c0 .102.083.185.185.185zM23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288z" fill="currentColor"/></svg>
          Docker
        </a>
        <a href="#" class="btn btn-secondary btn-disabled" title="Coming soon">
          <svg viewBox="0 0 24 24"><path d="M17.523 15.341a.76.76 0 00-.76.76v2.312a.76.76 0 01-.762.76H8a.76.76 0 01-.762-.76V15.34a.76.76 0 00-.761-.76.76.76 0 00-.762.76v2.312A2.286 2.286 0 008 19.935h8a2.286 2.286 0 002.285-2.282V15.34a.76.76 0 00-.762-.76zm-4.762-8.82L15.2 9.36a.762.762 0 001.076-1.078l-3.477-3.477a.762.762 0 00-1.078 0L8.244 8.282A.762.762 0 009.32 9.36l2.44-2.44v8.16a.762.762 0 001.523 0V6.92z"/></svg>
          Android <small>(soon)</small>
        </a>
      </div>

      <div class="version-row">
        Latest: <strong id="current-version">v1.7.10</strong>
        <a href="https://github.com/NiyaNagi/Nightjar/releases" target="_blank" rel="noopener">Release Notes ‚Üí</a>
      </div>

      <div class="hero-links">
        <a href="https://github.com/NiyaNagi/Nightjar" target="_blank" rel="noopener" class="btn btn-secondary">
          <svg viewBox="0 0 24 24" width="17" height="17"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill="currentColor"/></svg>
          GitHub
        </a>
        <a href="/app/" class="btn btn-secondary">
          <svg viewBox="0 0 24 24" width="17" height="17"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" fill="currentColor"/></svg>
          Web App
        </a>
        <a href="/docs/" class="btn btn-secondary">
          <svg viewBox="0 0 24 24" width="17" height="17"><path d="M11.25 4.533A9.707 9.707 0 006 3a9.735 9.735 0 00-3.25.555.75.75 0 00-.5.707v14.25a.75.75 0 001 .707A8.237 8.237 0 016 18.75c1.995 0 3.823.707 5.25 1.886V4.533zM12.75 20.636A8.214 8.214 0 0118 18.75c.966 0 1.89.166 2.75.47a.75.75 0 001-.708V4.262a.75.75 0 00-.5-.707A9.735 9.735 0 0018 3a9.707 9.707 0 00-5.25 1.533v16.103z" fill="currentColor"/></svg>
          Documentation
        </a>
      </div>
    </div>
  </section>

  <!-- Animated Slideshow -->
  <section class="slideshow-section" id="demo">
    <div class="container">
      <div class="section-header">
        <h2>See It in Action</h2>
        <p>A walkthrough of Nightjar's key features</p>
      </div>
      <div class="slideshow" id="slideshow">
        <div class="slideshow-placeholder" id="slideshow-placeholder">
          <div class="icon">üì∏</div>
          <p>Screenshots auto-generated on each release build.</p>
        </div>
        <img class="slideshow-frame" id="slideshow-img" src="" alt="" style="display:none;">
        <div class="slideshow-caption" id="slideshow-caption" style="display:none;">
          <div class="slideshow-caption-text">
            <h3 id="slide-title"></h3>
            <p id="slide-desc"></p>
          </div>
          <div class="slideshow-controls">
            <button onclick="prevSlide()" aria-label="Previous">‚óÄ</button>
            <span class="slideshow-counter" id="slide-counter"></span>
            <button id="play-btn" onclick="togglePlay()" aria-label="Play/Pause">‚è∏</button>
            <button onclick="nextSlide()" aria-label="Next">‚ñ∂</button>
          </div>
        </div>
      </div>
      <div class="slideshow-dots" id="slideshow-dots"></div>
    </div>
  </section>

  <!-- Features -->
  <section class="features-section" id="features">
    <div class="container">
      <div class="section-header">
        <h2>Everything You Need, Nothing You Don't</h2>
        <p>A complete collaboration suite ‚Äî encrypted end-to-end, synced peer-to-peer.</p>
      </div>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üîí</div>
          <h3>End-to-End Encrypted</h3>
          <p>XSalsa20-Poly1305 encryption on every document, file, and message. Keys never leave your device.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üåê</div>
          <h3>Peer-to-Peer</h3>
          <p>Hyperswarm + WebRTC for direct connections. Relay servers only help establish links ‚Äî they never see your data.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìù</div>
          <h3>Rich Text Editor</h3>
          <p>TipTap-powered editor with formatting, tables, task lists, code blocks, and live collaboration cursors.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìä</div>
          <h3>Spreadsheets</h3>
          <p>Fortune Sheet with formulas, cell formatting, multi-sheet support, and real-time collaborative editing.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìã</div>
          <h3>Kanban Boards</h3>
          <p>Visual task management with draggable columns, cards, labels, due dates, and team assignments.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üí¨</div>
          <h3>Encrypted Chat</h3>
          <p>Built-in workspace chat with @mentions, desktop notifications, and Do Not Disturb mode.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üì¶</div>
          <h3>Inventory Management</h3>
          <p>Track items with SKUs, categories, quantities, and prices. CSV import/export and geographic map views.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üìÅ</div>
          <h3>File Storage</h3>
          <p>Encrypted file storage with drag-and-drop upload, folder organization, and P2P sync across peers.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üë§</div>
          <h3>No Accounts Required</h3>
          <p>Generate a cryptographic identity locally with a BIP39 recovery phrase. No sign-ups, no email, no tracking.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üñ•Ô∏è</div>
          <h3>Cross-Platform</h3>
          <p>Native Electron apps for Windows, macOS, and Linux. Web access via hosted instances. Android coming soon.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üï∏Ô∏è</div>
          <h3>Mesh Network</h3>
          <p>Decentralized relay mesh with automatic failover. If one relay goes down, peers reconnect through others.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üßÖ</div>
          <h3>Tor Support</h3>
          <p>Built-in Tor integration for maximum privacy. Route all connections through the Tor network ‚Äî no setup required.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section class="how-section" id="how">
    <div class="container">
      <div class="section-header">
        <h2>How It Works</h2>
        <p>Get started in under a minute ‚Äî no accounts, no configuration.</p>
      </div>
      <div class="steps">
        <div class="step">
          <div class="step-num">1</div>
          <h3>Download &amp; Launch</h3>
          <p>Install Nightjar. A unique Ed25519 cryptographic identity is generated automatically.</p>
        </div>
        <div class="step">
          <div class="step-num">2</div>
          <h3>Create a Workspace</h3>
          <p>Start a workspace with documents, spreadsheets, kanban boards, and files ‚Äî all stored locally and encrypted.</p>
        </div>
        <div class="step">
          <div class="step-num">3</div>
          <h3>Invite Collaborators</h3>
          <p>Share an invite link or QR code. The encryption key is embedded in the URL fragment ‚Äî never sent to servers.</p>
        </div>
        <div class="step">
          <div class="step-num">4</div>
          <h3>Collaborate Securely</h3>
          <p>Edit together in real-time via Yjs CRDT. Changes sync instantly through encrypted P2P connections.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Use Cases -->
  <section class="usecases-section" id="usecases">
    <div class="container">
      <div class="section-header">
        <h2>Who Uses Nightjar?</h2>
        <p>Built for anyone who values privacy without sacrificing productivity.</p>
      </div>
      <div class="usecases-grid">
        <div class="usecase-card">
          <div class="persona">
            <div class="avatar">üè¢</div>
            <div class="persona-info">
              <div class="name">Small Teams</div>
              <div class="role">Startups &amp; agencies</div>
            </div>
          </div>
          <div class="quote">Replace Google Docs with a private workspace. Collaborate on proposals, track projects with kanban boards, and keep client data off third-party servers.</div>
        </div>
        <div class="usecase-card">
          <div class="persona">
            <div class="avatar">üì∞</div>
            <div class="persona-info">
              <div class="name">Journalists</div>
              <div class="role">Investigative teams</div>
            </div>
          </div>
          <div class="quote">Share sensitive documents with sources over Tor. No accounts mean no subpoena targets. End-to-end encryption keeps editorial content out of the wrong hands.</div>
        </div>
        <div class="usecase-card">
          <div class="persona">
            <div class="avatar">üî¨</div>
            <div class="persona-info">
              <div class="name">Researchers</div>
              <div class="role">Labs &amp; institutions</div>
            </div>
          </div>
          <div class="quote">Collaborate on papers and data sets without institutional IT approvals. Self-host for compliance, use spreadsheets for data collection, and keep pre-publication work private.</div>
        </div>
        <div class="usecase-card">
          <div class="persona">
            <div class="avatar">üõ°Ô∏è</div>
            <div class="persona-info">
              <div class="name">Privacy Advocates</div>
              <div class="role">Activists &amp; NGOs</div>
            </div>
          </div>
          <div class="quote">Organize campaigns with zero metadata exposure. Peer-to-peer architecture means no central server to compromise, seize, or pressure for data disclosure.</div>
        </div>
        <div class="usecase-card">
          <div class="persona">
            <div class="avatar">üíª</div>
            <div class="persona-info">
              <div class="name">Open Source Teams</div>
              <div class="role">Distributed developers</div>
            </div>
          </div>
          <div class="quote">Coordinate across time zones with real-time docs and chat. Track inventory for hardware projects, manage sprints on kanban boards ‚Äî all without SaaS lock-in.</div>
        </div>
        <div class="usecase-card">
          <div class="persona">
            <div class="avatar">üè†</div>
            <div class="persona-info">
              <div class="name">Personal Use</div>
              <div class="role">Notes, planning &amp; family</div>
            </div>
          </div>
          <div class="quote">Your private notebook with no cloud sync, no ads, no AI training on your data. Share a workspace with family to plan events, track a home inventory, or collaborate on recipes.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Competitor Comparison -->
  <section class="comparison-section" id="comparison">
    <div class="container">
      <div class="section-header">
        <h2>How Nightjar Compares</h2>
        <p>Security-first collaboration without compromises.</p>
      </div>
      <div class="comparison-table-wrap">
        <table class="comparison-table" role="table">
          <thead>
            <tr>
              <th scope="col">Feature</th>
              <th scope="col" class="highlight-col">Nightjar</th>
              <th scope="col">Google Docs</th>
              <th scope="col">Notion</th>
              <th scope="col">Standard Notes</th>
              <th scope="col">Obsidian</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>End-to-end encryption</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td></tr>
            <tr><td>No account required</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="check" aria-label="Yes">‚úì</span></td></tr>
            <tr><td>Peer-to-peer sync</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td></tr>
            <tr><td>Real-time collaboration</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="partial" aria-label="Partial">‚ö° Plugin</span></td></tr>
            <tr><td>Rich text documents</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td></tr>
            <tr><td>Spreadsheets</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="partial" aria-label="Partial">‚ö° Basic</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td></tr>
            <tr><td>Kanban boards</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="partial" aria-label="Partial">‚ö° Plugin</span></td></tr>
            <tr><td>File storage</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="partial" aria-label="Partial">‚ö° Limited</span></td><td><span class="check" aria-label="Yes">‚úì</span></td></tr>
            <tr><td>Inventory management</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="partial" aria-label="Partial">‚ö° Templates</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td></tr>
            <tr><td>Built-in chat</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="partial" aria-label="Partial">‚ö° Comments</span></td><td><span class="partial" aria-label="Partial">‚ö° Comments</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td></tr>
            <tr><td>Zero telemetry</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td></tr>
            <tr><td>Open source</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="partial" aria-label="Partial">‚ö° Partial</span></td></tr>
            <tr><td>Local-first storage</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="check" aria-label="Yes">‚úì</span></td><td><span class="check" aria-label="Yes">‚úì</span></td></tr>
            <tr><td>Tor support</td><td class="highlight-col"><span class="check" aria-label="Yes">‚úì</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="cross" aria-label="No">‚úó</span></td><td><span class="partial" aria-label="Partial">‚ö° Manual</span></td><td><span class="cross" aria-label="No">‚úó</span></td></tr>
            <tr><td>Pricing</td><td class="highlight-col"><strong>Free</strong></td><td>Free / Paid</td><td>Free / Paid</td><td>Free / Paid</td><td>Free / Paid</td></tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Security -->
  <section class="security-section" id="security">
    <div class="container">
      <div class="section-header">
        <h2>Security First</h2>
        <p>Designed from the ground up to protect your privacy.</p>
      </div>
      <div class="security-grid">
        <div class="security-card">
          <div class="icon">üîê</div>
          <h3>XSalsa20-Poly1305 Encryption</h3>
          <p>Every document, file, and chat message is encrypted before leaving your device using libsodium's authenticated encryption.</p>
        </div>
        <div class="security-card">
          <div class="icon">üîë</div>
          <h3>Ed25519 Identities</h3>
          <p>Cryptographic identities derived from BIP39 12-word mnemonics. No passwords, no accounts ‚Äî just math.</p>
        </div>
        <div class="security-card">
          <div class="icon">üõ°Ô∏è</div>
          <h3>Zero-Knowledge Architecture</h3>
          <p>Relay servers forward encrypted blobs. They cannot read, modify, or analyze any content.</p>
        </div>
        <div class="security-card">
          <div class="icon">üßÖ</div>
          <h3>Tor Integration</h3>
          <p>Built-in Tor client hides your IP from peers and relays. No external setup required.</p>
        </div>
        <div class="security-card">
          <div class="icon">üìµ</div>
          <h3>No Telemetry</h3>
          <p>Zero analytics, zero tracking, zero phone-home. Only contacts your configured relays.</p>
        </div>
        <div class="security-card">
          <div class="icon">üßä</div>
          <h3>Local-First Storage</h3>
          <p>All data lives on your device in encrypted LevelDB databases. Works fully offline.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="faq-section" id="faq">
    <div class="container">
      <div class="section-header">
        <h2>Frequently Asked Questions</h2>
        <p>Quick answers to common questions about Nightjar.</p>
      </div>
      <div class="faq-list">
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false">
            Is Nightjar really free?
            <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="faq-answer"><div class="faq-answer-inner">
            Yes, Nightjar is completely free and open source under the MIT license. There are no premium tiers, no usage limits, and no paid features. You can self-host it, modify it, and distribute it freely.
          </div></div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false">
            Can I use Nightjar without installing anything?
            <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="faq-answer"><div class="faq-answer-inner">
            Yes! The web app at night-jar.co/app works in any modern browser. For the full experience with P2P mesh networking, Tor support, and local encrypted storage, use the desktop app.
          </div></div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false">
            What happens if the relay server goes down?
            <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="faq-answer"><div class="faq-answer-inner">
            Nightjar uses a decentralized relay mesh. If one relay goes offline, clients automatically reconnect through other available relays. Desktop users can also connect directly via Hyperswarm DHT or mDNS on a local network, bypassing relays entirely.
          </div></div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false">
            Can the relay server see my data?
            <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="faq-answer"><div class="faq-answer-inner">
            No. All data is encrypted on your device before it leaves. Relay servers only see opaque encrypted blobs. They cannot read, modify, or analyze any content. Encryption keys are embedded in invite link URL fragments which are never sent to servers.
          </div></div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false">
            How do I recover my identity if I lose my device?
            <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="faq-answer"><div class="faq-answer-inner">
            When you first set up Nightjar, you're given a 12-word BIP39 recovery phrase. This phrase deterministically regenerates your Ed25519 keypair on any device. Store it safely ‚Äî it's the only way to recover your identity.
          </div></div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false">
            Can I self-host Nightjar?
            <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="faq-answer"><div class="faq-answer-inner">
            Absolutely! Pull the Docker image from ghcr.io/niyanagi/nightjar:latest and run it with docker-compose. You can configure host, relay, or private mode. See the <a href="/docs/self-hosting.html">Self-Hosting Guide</a> for full instructions.
          </div></div>
        </div>
        <div class="faq-item">
          <button class="faq-question" aria-expanded="false">
            What encryption does Nightjar use?
            <svg class="faq-chevron" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"/></svg>
          </button>
          <div class="faq-answer"><div class="faq-answer-inner">
            Documents and messages use XSalsa20-Poly1305 (NaCl secretbox) with 256-bit keys and random nonces. Identities are Ed25519 keypairs derived from BIP39 mnemonics via PBKDF2-SHA512. Workspace keys use Argon2id key derivation. All data is padded to 4KB blocks to resist traffic analysis.
          </div></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tech Stack -->
  <section class="tech-section" id="tech">
    <div class="container">
      <div class="section-header">
        <h2>Built With</h2>
        <p>Modern, battle-tested open-source technologies.</p>
      </div>
      <div class="tech-pills">
        <span class="tech-pill"><span class="dot" style="background:#47848f"></span> Electron 30</span>
        <span class="tech-pill"><span class="dot" style="background:#61dafb"></span> React 18</span>
        <span class="tech-pill"><span class="dot" style="background:#646cff"></span> Vite 5</span>
        <span class="tech-pill"><span class="dot" style="background:#6c63ff"></span> TipTap 2.4</span>
        <span class="tech-pill"><span class="dot" style="background:#34d399"></span> Yjs CRDT</span>
        <span class="tech-pill"><span class="dot" style="background:#f59e0b"></span> Fortune Sheet</span>
        <span class="tech-pill"><span class="dot" style="background:#ef4444"></span> Hyperswarm</span>
        <span class="tech-pill"><span class="dot" style="background:#a78bfa"></span> LevelDB</span>
        <span class="tech-pill"><span class="dot" style="background:#fb923c"></span> TweetNaCl</span>
        <span class="tech-pill"><span class="dot" style="background:#f472b6"></span> BIP39</span>
        <span class="tech-pill"><span class="dot" style="background:#38bdf8"></span> WebRTC</span>
        <span class="tech-pill"><span class="dot" style="background:#4ade80"></span> WebSocket</span>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer role="contentinfo">
    <div class="container">
      <div class="footer-links">
        <a href="https://github.com/NiyaNagi/Nightjar" target="_blank" rel="noopener">GitHub</a>
        <a href="https://github.com/NiyaNagi/Nightjar/releases" target="_blank" rel="noopener">Releases</a>
        <a href="/docs/">Documentation</a>
        <a href="/docs/architecture.html">Architecture</a>
        <a href="/docs/self-hosting.html">Self-Hosting</a>
        <a href="/app/">Web App</a>
        <a href="https://github.com/NiyaNagi/Nightjar/issues" target="_blank" rel="noopener">Report Issue</a>
      </div>
      <p>Nightjar ¬∑ Built by <a href="https://github.com/NiyaNagi" target="_blank" rel="noopener">NiyaNagi</a> ¬∑ Open Source</p>
    </div>
  </footer>

  <script>
    // ‚îÄ‚îÄ Hamburger menu ‚îÄ‚îÄ
    const hamburgerBtn = document.getElementById('hamburger-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    function closeMobileMenu() {
      mobileMenu.classList.remove('open');
      hamburgerBtn.classList.remove('active');
      hamburgerBtn.setAttribute('aria-expanded', 'false');
      document.body.style.overflow = '';
    }
    hamburgerBtn.addEventListener('click', () => {
      const isOpen = mobileMenu.classList.toggle('open');
      hamburgerBtn.classList.toggle('active');
      hamburgerBtn.setAttribute('aria-expanded', isOpen);
      document.body.style.overflow = isOpen ? 'hidden' : '';
    });

    // ‚îÄ‚îÄ FAQ accordion ‚îÄ‚îÄ
    document.querySelectorAll('.faq-question').forEach(btn => {
      btn.addEventListener('click', () => {
        const item = btn.parentElement;
        const wasOpen = item.classList.contains('open');
        // Close all
        document.querySelectorAll('.faq-item.open').forEach(el => {
          el.classList.remove('open');
          el.querySelector('.faq-question').setAttribute('aria-expanded', 'false');
        });
        // Toggle clicked
        if (!wasOpen) {
          item.classList.add('open');
          btn.setAttribute('aria-expanded', 'true');
        }
      });
    });

    // ‚îÄ‚îÄ Platform auto-detection ‚îÄ‚îÄ
    function detectPlatform() {
      const ua = navigator.userAgent.toLowerCase();
      if (ua.includes('win')) return 'windows';
      if (ua.includes('mac')) return 'macos';
      if (ua.includes('linux') || ua.includes('x11')) return 'linux';
      return 'windows';
    }
    (function highlightPlatform() {
      const platform = detectPlatform();
      document.querySelectorAll('.downloads .btn').forEach(btn => {
        const p = btn.getAttribute('data-platform');
        if (!p) return;
        if (p === platform) {
          btn.classList.remove('btn-secondary');
          btn.classList.add('btn-primary', 'btn-detected');
        } else {
          btn.classList.remove('btn-primary', 'btn-detected');
          btn.classList.add('btn-secondary');
        }
      });
    })();

    // ‚îÄ‚îÄ GitHub stars + dynamic download URLs ‚îÄ‚îÄ
    (async function () {
      const REPO = 'NiyaNagi/Nightjar';
      const FALLBACK = `https://github.com/${REPO}/releases/latest`;
      const PLATFORM_MATCH = {
        windows: name => /\.exe$/i.test(name) && !/blockmap/i.test(name),
        macos:   name => /\.dmg$/i.test(name),
        linux:   name => /\.AppImage$/i.test(name),
      };
      try {
        const res = await fetch(`https://api.github.com/repos/${REPO}/releases/latest`);
        if (!res.ok) return;
        const release = await res.json();
        const versionEl = document.getElementById('current-version');
        if (versionEl && release.tag_name) versionEl.textContent = release.tag_name;
        const assets = release.assets || [];
        for (const [platform, matcher] of Object.entries(PLATFORM_MATCH)) {
          const btn = document.querySelector(`[data-platform="${platform}"]`);
          if (!btn) continue;
          const asset = assets.find(a => matcher(a.name));
          btn.href = asset ? asset.browser_download_url : FALLBACK;
        }
      } catch {}

      // Fetch stars
      try {
        const repoRes = await fetch(`https://api.github.com/repos/${REPO}`);
        if (!repoRes.ok) return;
        const repoData = await repoRes.json();
        const count = repoData.stargazers_count;
        if (count != null) {
          const badge = document.getElementById('stars-badge');
          const countEl = document.getElementById('stars-count');
          if (badge && countEl) {
            countEl.textContent = count >= 1000 ? (count / 1000).toFixed(1) + 'k' : count;
            badge.style.display = 'inline-flex';
          }
        }
      } catch {}
    })();

    // ‚îÄ‚îÄ Mascot Chat Bubble ‚îÄ‚îÄ
    const mascotSayings = [
      "Your keys, your data!", "End-to-end encrypted!", "Not even I can read it!",
      "Zero-knowledge? More like full wisdom!", "Privacy is not a crime!",
      "Encrypted by default!", "No backdoors here!", "Tor-tally anonymous!",
      "I encrypt, therefore I am", "Your data stayed local!",
      "What happens in P2P, stays in P2P", "No cloud, no problem",
      "Decentralized and loving it", "Ed25519 says hi!",
      "12 words to freedom!", "Trust no server!",
      "Zero logs, zero worries", "Peer-to-peer or nothing!",
      "Private by architecture", "Trust the math, not the company",
      "Open source, open heart", "Audit the code yourself!",
      "Fork me on GitHub!", "Your documents, your rules",
      "No telemetry here!", "Local-first philosophy",
      "Collaborating at the speed of CRDT!", "Yjs makes merges magical",
      "Real-time, real secure", "Kanban: because sticky notes get lost",
      "Spreadsheets but make it encrypted", "Chat: now with more E2E",
      "Also try Obsidian!", "100% more peer-to-peer!",
      "Now with extra encryption!", "Such privacy!", "Much encryption!",
      "This is the way", "May the fork be with you",
      "Hello there! General Encrypti!", "Hakuna Ma-data!",
      "To encrypt or not to encrypt? Encrypt.",
      "Modern problems require P2P solutions",
      "Is that a bird? It's Nightjar!", "Birds can type confirmed!",
      "Digitally nocturnal!", "Crepuscular computing!",
      "Flying under the radar!", "Secretly syncing!",
      "Camouflaged but collaborative!", "npm install privacy",
      "git push --force? More like peer push --gentle",
      "It works on my machine!", "LGTM! Merging now",
    ];
    let mascotIndex = Math.floor(Math.random() * mascotSayings.length);
    let mascotTimer = null;

    function nextMascotSaying() {
      mascotIndex = (mascotIndex + 1) % mascotSayings.length;
      const el = document.getElementById('mascot-saying');
      const bubble = document.getElementById('mascot-bubble');
      if (el) {
        el.textContent = mascotSayings[mascotIndex];
        // Re-trigger animation
        bubble.style.animation = 'none';
        bubble.offsetHeight; // force reflow
        bubble.style.animation = '';
      }
    }

    function startMascotRotation() {
      if (mascotTimer) clearInterval(mascotTimer);
      mascotTimer = setInterval(nextMascotSaying, 5000);
    }

    (function initMascot() {
      const el = document.getElementById('mascot-saying');
      if (el) el.textContent = mascotSayings[mascotIndex];

      const mascot = document.getElementById('hero-mascot');
      if (mascot) {
        mascot.addEventListener('click', () => {
          nextMascotSaying();
          startMascotRotation(); // reset timer on click
        });
        mascot.addEventListener('keydown', (e) => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            nextMascotSaying();
            startMascotRotation();
          }
        });
      }

      const bubble = document.getElementById('mascot-bubble');
      if (bubble) {
        bubble.addEventListener('click', (e) => {
          e.stopPropagation();
          nextMascotSaying();
          startMascotRotation();
        });
      }

      startMascotRotation();
    })();

    // ‚îÄ‚îÄ Slideshow ‚îÄ‚îÄ
    let slides = [];
    let currentSlide = 0;
    let autoplay = true;
    let timer = null;

    async function initSlideshow() {
      try {
        const res = await fetch('/screenshots/manifest.json');
        if (!res.ok) return;
        const manifest = await res.json();
        slides = (manifest.screenshots || []).filter(s => s.filename);
        if (!slides.length) return;

        // Preload all images before showing slideshow
        const preloadPromises = slides.map(s => new Promise((resolve) => {
          const img = new Image();
          img.onload = () => resolve(true);
          img.onerror = () => resolve(false);
          img.src = `/screenshots/${s.filename}`;
        }));
        const results = await Promise.all(preloadPromises);
        // Filter out any slides whose images failed to load
        slides = slides.filter((_, i) => results[i]);
        if (!slides.length) return;

        document.getElementById('slideshow-placeholder').style.display = 'none';
        document.getElementById('slideshow-img').style.display = 'block';
        document.getElementById('slideshow-caption').style.display = 'flex';
        const dotsContainer = document.getElementById('slideshow-dots');
        slides.forEach((_, i) => {
          const dot = document.createElement('button');
          dot.className = 'slideshow-dot' + (i === 0 ? ' active' : '');
          dot.onclick = () => goToSlide(i);
          dot.setAttribute('aria-label', `Slide ${i + 1}`);
          dotsContainer.appendChild(dot);
        });
        showSlide(0);
        startAutoplay();
      } catch {}
    }

    function showSlide(idx) {
      if (!slides.length) return;
      currentSlide = idx;
      const slide = slides[idx];
      const img = document.getElementById('slideshow-img');
      img.src = `/screenshots/${slide.filename}`;
      img.alt = slide.title;
      // Handle individual image load errors gracefully
      img.onerror = () => {
        if (slides.length > 1) {
          slides.splice(idx, 1);
          showSlide(idx % slides.length);
        }
      };
      document.getElementById('slide-title').textContent = slide.title;
      document.getElementById('slide-desc').textContent = slide.description;
      document.getElementById('slide-counter').textContent = `${idx + 1} / ${slides.length}`;
      document.querySelectorAll('.slideshow-dot').forEach((d, i) => {
        d.classList.toggle('active', i === idx);
      });
    }

    function nextSlide() { showSlide((currentSlide + 1) % slides.length); }
    function prevSlide() { showSlide((currentSlide - 1 + slides.length) % slides.length); }
    function goToSlide(idx) { showSlide(idx); if (autoplay) resetAutoplay(); }
    function startAutoplay() {
      if (timer) clearInterval(timer);
      timer = setInterval(nextSlide, 5000);
      autoplay = true;
      const btn = document.getElementById('play-btn');
      if (btn) btn.textContent = '‚è∏';
    }
    function stopAutoplay() {
      if (timer) clearInterval(timer);
      timer = null; autoplay = false;
      const btn = document.getElementById('play-btn');
      if (btn) btn.textContent = '‚ñ∂';
    }
    function togglePlay() { autoplay ? stopAutoplay() : startAutoplay(); }
    function resetAutoplay() { if (autoplay) startAutoplay(); }
    initSlideshow();
  </script>
</body>
</html>
